<!-- @format -->

模块分成两类：核心模块与文件模块
Node 为加快模块二次加载，会缓存编译与执行后的对象

## 路径分析

1. 核心模块
2. 路径形式的文件模块：., .., ../开头，require 会将其转换为真实路径，然后以路径为索引，存储缓存(如果最先的层级是 index 可以忽略不写)
3. 自定义模块：从当前层级开始依次向上层寻找 node_modules 目录内是否有此模块(将模块名当成文件名/目录名)

## 文件定位

Node 会按照.js/.json/.node 次序依次补足扩展，在尝试的过程中 fs 模块同步模式判断文件是否存在，引起一个性能问题

如果找不到文件但是得到了一个目录

1. 首先看 package.json 的 main 属性值，如果有就指定读取文件
2. 没有的情况下会寻找 index.js/index.json/index.node

是在是没有找到就抛出错误

## 编译执行
