<!-- @format -->

TCP 队头阻塞
TCP 数据包是有序传输，中间一个数据包丢失，会等待该数据包重传，造成后面的数据包的阻塞。

1. HTTP 队头阻塞：一个 tcp 通道中如果某个 http 请求的响应因为某个原因没有及时返回，后面的响应会被阻塞，这就是队头阻塞
   队头阻塞的解决方法：1）对一个域名建立多个 TCP 连接 chrome 最多 6 个；2）域名分片，更多的域名建立更多的 TCP 连接；3）HTTP2
2. HTTP/1.1 的首部无法压缩，再加上 cookie 的存在，经常会出现首部大小比请求数据大小还大的情况。
3. HTTP/1.1 无法为重要的资源指定优先级，每个 HTTP 请求都是一视同仁。
4. 低效的 TCP 利用

HTTP2

1. 单一长连接：HTTP2 中用一条单一的长连接，避免了创建多个 TCP 连接带来的网络开销，提高了吞吐量。
2. 多路复用：传输时无序，接受时组装。HTTP 请求是基于流的，然后将每个流分割成若干个帧。
3. 头部压缩：HPACK 压缩算法
4. 服务端推送
5. 资源优先级设置
