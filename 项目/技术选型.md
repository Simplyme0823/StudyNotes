<!-- @format -->

## 为什么选择 Vue + Eggjs

1. 前端 jquery 后端 php，都使用一套的开发体系
2. 前端三大框架：Vue/React/Angular
   1. Vue 适合小项目/中文文档/保姆式/国内用户量大
   2. React 对 JS 熟练度要求高，入门难度高，第三方解决方案过多
   3. Angular 没有中文文档，社区活跃度不高，难度更高
3. 后端 Eggjs + typescript
   1. 后端使用 JS/TS 语言一直，代码复用率高
   2. 语言统一，学习成本低
   3. Eggjs 中文文档
4. 数据库连接使用 typeorm
   1. 支持 typescript
   2. 使用 orm 提高数据库相关操作的效率

## 为什么使用 vue-grid-layout

1. 画板上自由拖拽组件的方案使得用户自由度过高，需要考虑的问题更多
2. 使用 vue-grid-layout 的自由度满足报表需求，且为响应式布局
3. 开发人员少，使用开源第三方库提高开发效率

## 报表缓存失败怎么办

1. 首先尝试从缓存内读取报表配置，如果读取失败，给定报表 CACHE_NORMAL 属性为 false
2. 从数据库中读取数据生成最新的配置返回前端并更新缓存，重置 CACHE_NORMAL 属性
3. 如果数据库数据读取失误，设置报表 DB_NORMAL 属性为 false
4. 以上错误都会进行错误捕捉，以便排查 BUG

## 为什么使用 Two.js

1. 尤雨溪
   https://www.zhihu.com/question/22473228/answer/21564073
2. 绘制 svg
   1. 绘制矢量图，缩放不失真
   2. 数据量不多，svg 性能够用(微软有篇文章专门对比了 svg 与 canvas 的差异，其中提到当元素个数小于 10000 时，svg 性能更好)
   3. svg 可以直接进行交互，添加各种事件，canvas 不方便，增加开发成本
